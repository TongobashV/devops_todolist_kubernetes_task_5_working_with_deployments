==================================================================
ІНСТРУКЦІЯ З РОЗГОРТАННЯ ТА ТЕСТУВАННЯ ЗАСТОСУНКУ TODO
==================================================================

1. ПОРЯДОК РОЗГОРТАННЯ
------------------------------------------------------------------
Щоб забезпечити виконання всіх залежностей, застосовуйте маніфести 
у такій послідовності:

1.1 Створення Namespace:
    $ kubectl apply -f namespace.yml

1.2 Розгортання контролера (Deployment):
    $ kubectl apply -f deployment.yml

1.3 Налаштування мережі (Services):
    $ kubectl apply -f clusterIp.yml
    $ kubectl apply -f nodeport.yml

1.4 Увімкнення автоскейлінгу (HPA):
    $ kubectl apply -f hpa.yml

1.5 Запуск інструментів тестування:
    $ kubectl apply -f busybox.yml


2. ПРОЄКТНІ РІШЕННЯ ТА КОНФІГУРАЦІЯ
------------------------------------------------------------------

2.1 Запити та ліміти ресурсів (Resources: Requests & Limits)
* Requests (CPU: 50m, Memory: 64Mi): Гарантовані ресурси. Обрані як 
  базовий рівень для стабільного запуску мікросервісу, щоб планувальник 
  міг ефективно розміщувати поди.
* Limits (CPU: 200m, Memory: 256Mi): "Жорстка стеля". Запобігають 
  споживанню одним подом усіх ресурсів вузла (наприклад, при витоку 
  пам'яті), захищаючи стабільність усього кластера.

2.2 Горизонтальний автоскейлер подів (HPA)
* Репліки (Min: 2 / Max: 5): 2 поди забезпечують відмовостійкість. 
  Максимум у 5 подів обмежує перевитрати ресурсів кластера.
* Порогові значення (CPU: 50%, Memory: 70%):
  - CPU: 50% дозволяє почати масштабування до того, як виникнуть затримки.
  - Memory: 70% дає час на запуск нових подів до того, як спрацює OOM Kill.

2.3 Стратегія розгортання: RollingUpdate
* maxUnavailable: 0: Під час оновлення жоден под не вимикається, 
  поки не запуститься новий. Доступність застосунку — 100%.
* maxSurge: 1: Дозволяє створити один додатковий под понад ліміт 
  під час деплою для плавного переходу на нову версію.


3. ДОСТУП ДО ЗАСТОСУНКУ
------------------------------------------------------------------

3.1 Внутрішній доступ (зсередини кластера):
URL: http://todoapp-service.mateapp.svc.cluster.local:8080

3.2 Зовнішній доступ (через браузер):
1. Дізнайтеся призначений порт: $ kubectl get svc -n mateapp
2. Адреса: http://<NODE_IP>:<NODE_PORT>
(Для Kind переконайтеся, що порти прокинуті у конфігурації кластера).


4. ПЕРЕВІРКА ТА МОНІТОРИНГ
------------------------------------------------------------------

* Перевірити статус усіх ресурсів:
  $ kubectl get all -n mateapp

* Моніторинг автоскейлера (HPA):
  $ kubectl get hpa -n mateapp --watch

* Перегляд логів застосунку:
  $ kubectl logs -l app=todoapp -n mateapp

* Видалення всіх ресурсів проєкту:
  $ kubectl delete namespace mateapp
==================================================================